{"ast":null,"code":"var _jsxFileName = \"/Users/chloe/Desktop/react-voxspot/voxspot-web/src/components/map/map.js\";\nimport React, { Component } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport ReactDOMServer from \"react-dom/server\";\nimport info from \"./info\";\n\nclass SimpleMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      myLatLng: {\n        lat: -37.813629,\n        lng: 144.963058\n      },\n      b_type: \"\",\n      end_date: \"\",\n      start_date: \"\",\n      details: \"\",\n      zoom: 13\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.match.params.id) {\n      let url = 'http://localhost:8000/share/' + this.props.match.params.id;\n      fetch(url).then(results => {\n        return results.json();\n      }).then(data => {\n        this.setState({\n          myLatLng: {\n            lat: data.location.coordinates[1],\n            lng: data.location.coordinates[0]\n          },\n          b_type: data.b_type,\n          end_date: data.end_date,\n          start_date: data.start_date,\n          details: data.details\n        });\n        console.log(this.state.myLatLng);\n      });\n    }\n  }\n\n  renderMarkers(map, maps, position) {\n    let myContent = React.createElement(\"infoWindows\", {\n      b_type: this.state.b_type,\n      end_date: this.state.end_date,\n      start_date: this.state.end_date,\n      details: this.state.details,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    });\n    let infowindow = new maps.InfoWindow({\n      content: ReactDOMServer.renderToString(myContent)\n    });\n    let marker = new maps.Marker({\n      position: position,\n      map,\n      title: 'Hello World!'\n    });\n    marker.addListener('click', function () {\n      infowindow.open(map, marker);\n    });\n  }\n\n  render() {\n    return (// Important! Always set the container height explicitly\n      React.createElement(\"div\", {\n        style: {\n          height: '100vh',\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"infoWindow\", {\n        b_type: this.state.b_type,\n        end_date: this.state.end_date,\n        start_date: this.state.end_date,\n        details: this.state.details,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(GoogleMapReact, {\n        bootstrapURLKeys: {\n          key: 'AIzaSyAtdOKKhJNvoNFVMIy20Upt7OLv1lHZJaI'\n        },\n        onGoogleApiLoaded: ({\n          map,\n          maps\n        }) => this.renderMarkers(map, maps, this.state.myLatLng),\n        defaultCenter: this.props.center,\n        center: this.state.myLatLng,\n        yesIWantToUseGoogleMapApiInternals: true,\n        defaultZoom: this.state.zoom,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }))\n    );\n  }\n\n}\n\nSimpleMap.defaultProps = {\n  center: {\n    lat: -37.813629,\n    lng: 144.963058\n  },\n  zoom: 11\n};\nexport default SimpleMap;","map":{"version":3,"sources":["/Users/chloe/Desktop/react-voxspot/voxspot-web/src/components/map/map.js"],"names":["React","Component","GoogleMapReact","ReactDOMServer","info","SimpleMap","constructor","props","state","myLatLng","lat","lng","b_type","end_date","start_date","details","zoom","componentDidMount","match","params","id","url","fetch","then","results","json","data","setState","location","coordinates","console","log","renderMarkers","map","maps","position","myContent","infowindow","InfoWindow","content","renderToString","marker","Marker","title","addListener","open","render","height","width","key","center","defaultProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport ReactDOMServer from \"react-dom/server\";\nimport info from \"./info\";\n\nclass SimpleMap extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      myLatLng : {\n        lat: -37.813629,\n        lng: 144.963058\n      },\n      b_type:\"\",\n      end_date:\"\",\n      start_date:\"\",\n      details:\"\",\n      zoom:13\n    }\n  }\n\n  static defaultProps = {\n    center: {\n      lat: -37.813629,\n      lng: 144.963058\n    },\n    zoom: 11\n  };\n  \n  componentDidMount(){\n    if(this.props.match.params.id){\n      let url='http://localhost:8000/share/'+this.props.match.params.id\n      fetch(url)\n      .then(results => {\n        return results.json();\n      })\n      .then(data => {\n        this.setState(\n          {\n            myLatLng:{\n              lat: data.location.coordinates[1],\n              lng: data.location.coordinates[0]\n              },\n              b_type:data.b_type,\n              end_date:data.end_date,\n              start_date:data.start_date,\n              details:data.details,\n          });\n        console.log(this.state.myLatLng)\n      })\n  \n    }\n\n  }\n\n\n  renderMarkers(map, maps, position) {\n    let myContent = <infoWindows b_type={this.state.b_type} end_date={this.state.end_date} start_date={this.state.end_date} details={this.state.details} />;\n    let infowindow = new maps.InfoWindow({\n      content: ReactDOMServer.renderToString(myContent)\n    });\n    let marker = new maps.Marker({\n      position: position,\n      map,\n      title: 'Hello World!',\n\n    });\n      marker.addListener('click', function() {\n \n        infowindow.open(map, marker);\n  })\n  }\n\n\n  render (){\n  return (\n     // Important! Always set the container height explicitly\n     <div style={{ height: '100vh', width: '100%' }}>\n       <infoWindow b_type={this.state.b_type} end_date={this.state.end_date} start_date={this.state.end_date} details={this.state.details} />\n     <GoogleMapReact\n       bootstrapURLKeys={{ key: 'AIzaSyAtdOKKhJNvoNFVMIy20Upt7OLv1lHZJaI' }}\n       onGoogleApiLoaded={({map, maps}) => this.renderMarkers(map, maps, this.state.myLatLng)}\n       defaultCenter={this.props.center}\n       center={this.state.myLatLng}\n       yesIWantToUseGoogleMapApiInternals\n       defaultZoom={this.state.zoom}\n     >\n     </GoogleMapReact>\n   </div>\n  );\n}\n}\n\nexport default SimpleMap;\n"]},"metadata":{},"sourceType":"module"}