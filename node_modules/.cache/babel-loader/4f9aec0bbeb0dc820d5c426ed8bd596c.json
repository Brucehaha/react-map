{"ast":null,"code":"var _jsxFileName = \"/Users/chloe/Desktop/react-voxspot/voxspot-web/src/components/map/map.js\";\nimport React, { Component } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport ReactDOMServer from \"react-dom/server\";\nimport infoWindow from \"infoWindow\";\n\nclass SimpleMap extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      myLatLng: {\n        lat: -37.813629,\n        lng: 144.963058\n      },\n      info: '',\n      zoom: 13\n    };\n  }\n\n  renderMarkers(map, maps, position) {\n    var infowindow = new maps.InfoWindow({\n      content: ''\n    });\n    let marker = new maps.Marker({\n      position: position,\n      map,\n      title: 'Hello World!'\n    });\n    marker.addListener('click', function () {\n      const content = ReactDOMServer.renderToString(React.createElement(\"infoWindow\", {\n        b_type: this.state.info.b_type,\n        details: this.state.info.details,\n        end_date: this.state.info.end_date,\n        start_date: this.state.info.start_date,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }));\n      infowindow.setContent(content);\n      infowindow.open(map, marker);\n    });\n  }\n\n  componentDidMount() {\n    if (this.props.match.params.id) {\n      let url = 'http://localhost:8000/share/' + this.props.match.params.id;\n      fetch(url).then(results => {\n        return results.json();\n      }).then(data => {\n        this.setState({\n          myLatLng: {\n            lat: data.location.coordinates[1],\n            lng: data.location.coordinates[0]\n          },\n          info: data\n        });\n        console.log(this.state.myLatLng);\n      });\n    }\n  }\n\n  render() {\n    return (// Important! Always set the container height explicitly\n      React.createElement(\"div\", {\n        style: {\n          height: '100vh',\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(GoogleMapReact, {\n        bootstrapURLKeys: {\n          key: 'AIzaSyAtdOKKhJNvoNFVMIy20Upt7OLv1lHZJaI'\n        },\n        onGoogleApiLoaded: ({\n          map,\n          maps\n        }) => this.renderMarkers(map, maps, this.state.myLatLng),\n        defaultCenter: this.props.center,\n        center: this.state.myLatLng,\n        yesIWantToUseGoogleMapApiInternals: true,\n        defaultZoom: this.state.zoom,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }))\n    );\n  }\n\n}\n\nSimpleMap.defaultProps = {\n  center: {\n    lat: -37.813629,\n    lng: 144.963058\n  },\n  zoom: 11\n};\nexport default SimpleMap;","map":{"version":3,"sources":["/Users/chloe/Desktop/react-voxspot/voxspot-web/src/components/map/map.js"],"names":["React","Component","GoogleMapReact","ReactDOMServer","infoWindow","SimpleMap","constructor","props","state","myLatLng","lat","lng","info","zoom","renderMarkers","map","maps","position","infowindow","InfoWindow","content","marker","Marker","title","addListener","renderToString","b_type","details","end_date","start_date","setContent","open","componentDidMount","match","params","id","url","fetch","then","results","json","data","setState","location","coordinates","console","log","render","height","width","key","center","defaultProps"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,UAAP,MAAuB,YAAvB;;AAEA,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;AAChCK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,QAAQ,EAAG;AACTC,QAAAA,GAAG,EAAE,CAAC,SADG;AAETC,QAAAA,GAAG,EAAE;AAFI,OADA;AAKXC,MAAAA,IAAI,EAAC,EALM;AAMXC,MAAAA,IAAI,EAAC;AANM,KAAb;AAQD;;AASDC,EAAAA,aAAa,CAACC,GAAD,EAAMC,IAAN,EAAYC,QAAZ,EAAsB;AACjC,QAAIC,UAAU,GAAG,IAAIF,IAAI,CAACG,UAAT,CAAoB;AACnCC,MAAAA,OAAO,EAAC;AAD2B,KAApB,CAAjB;AAGA,QAAIC,MAAM,GAAG,IAAIL,IAAI,CAACM,MAAT,CAAgB;AAC3BL,MAAAA,QAAQ,EAAEA,QADiB;AAE3BF,MAAAA,GAF2B;AAG3BQ,MAAAA,KAAK,EAAE;AAHoB,KAAhB,CAAb;AAMEF,IAAAA,MAAM,CAACG,WAAP,CAAmB,OAAnB,EAA4B,YAAW;AACrC,YAAMJ,OAAO,GAAGjB,cAAc,CAACsB,cAAf,CAA8B;AAAY,QAAA,MAAM,EAAE,KAAKjB,KAAL,CAAWI,IAAX,CAAgBc,MAApC;AAA4C,QAAA,OAAO,EAAE,KAAKlB,KAAL,CAAWI,IAAX,CAAgBe,OAArE;AAC1C,QAAA,QAAQ,EAAE,KAAKnB,KAAL,CAAWI,IAAX,CAAgBgB,QADgB;AACN,QAAA,UAAU,EAAE,KAAKpB,KAAL,CAAWI,IAAX,CAAgBiB,UADtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAA9B,CAAhB;AAGAX,MAAAA,UAAU,CAACY,UAAX,CAAsBV,OAAtB;AACAF,MAAAA,UAAU,CAACa,IAAX,CAAgBhB,GAAhB,EAAqBM,MAArB;AACL,KANG;AAOH;;AACDW,EAAAA,iBAAiB,GAAE;AACjB,QAAG,KAAKzB,KAAL,CAAW0B,KAAX,CAAiBC,MAAjB,CAAwBC,EAA3B,EAA8B;AAC5B,UAAIC,GAAG,GAAC,iCAA+B,KAAK7B,KAAL,CAAW0B,KAAX,CAAiBC,MAAjB,CAAwBC,EAA/D;AACAE,MAAAA,KAAK,CAACD,GAAD,CAAL,CACCE,IADD,CACMC,OAAO,IAAI;AACf,eAAOA,OAAO,CAACC,IAAR,EAAP;AACD,OAHD,EAICF,IAJD,CAIMG,IAAI,IAAI;AACZ,aAAKC,QAAL,CACE;AACEjC,UAAAA,QAAQ,EAAC;AACTC,YAAAA,GAAG,EAAE+B,IAAI,CAACE,QAAL,CAAcC,WAAd,CAA0B,CAA1B,CADI;AAETjC,YAAAA,GAAG,EAAE8B,IAAI,CAACE,QAAL,CAAcC,WAAd,CAA0B,CAA1B;AAFI,WADX;AAKAhC,UAAAA,IAAI,EAAE6B;AALN,SADF;AAQAI,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKtC,KAAL,CAAWC,QAAvB;AACD,OAdD;AAgBD;AAEF;;AACDsC,EAAAA,MAAM,GAAG;AACT,WACG;AACA;AAAK,QAAA,KAAK,EAAE;AAAEC,UAAAA,MAAM,EAAE,OAAV;AAAmBC,UAAAA,KAAK,EAAE;AAA1B,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,cAAD;AACE,QAAA,gBAAgB,EAAE;AAAEC,UAAAA,GAAG,EAAE;AAAP,SADpB;AAEE,QAAA,iBAAiB,EAAE,CAAC;AAACnC,UAAAA,GAAD;AAAMC,UAAAA;AAAN,SAAD,KAAiB,KAAKF,aAAL,CAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B,KAAKR,KAAL,CAAWC,QAAzC,CAFtC;AAGE,QAAA,aAAa,EAAE,KAAKF,KAAL,CAAW4C,MAH5B;AAIE,QAAA,MAAM,EAAE,KAAK3C,KAAL,CAAWC,QAJrB;AAKE,QAAA,kCAAkC,MALpC;AAME,QAAA,WAAW,EAAE,KAAKD,KAAL,CAAWK,IAN1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA;AAFH;AAcD;;AA3EiC;;AAA5BR,S,CAaG+C,Y,GAAe;AACpBD,EAAAA,MAAM,EAAE;AACNzC,IAAAA,GAAG,EAAE,CAAC,SADA;AAENC,IAAAA,GAAG,EAAE;AAFC,GADY;AAKpBE,EAAAA,IAAI,EAAE;AALc,C;AAiExB,eAAeR,SAAf","sourcesContent":["import React, {Component} from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport ReactDOMServer from \"react-dom/server\";\nimport infoWindow from \"infoWindow\";\n\nclass SimpleMap extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      myLatLng : {\n        lat: -37.813629,\n        lng: 144.963058\n      },\n      info:'',\n      zoom:13\n    }\n  }\n\n  static defaultProps = {\n    center: {\n      lat: -37.813629,\n      lng: 144.963058\n    },\n    zoom: 11\n  };\n  renderMarkers(map, maps, position) {\n    var infowindow = new maps.InfoWindow({\n      content:''\n    });\n    let marker = new maps.Marker({\n      position: position,\n      map,\n      title: 'Hello World!',\n\n    });\n      marker.addListener('click', function() {\n        const content = ReactDOMServer.renderToString(<infoWindow b_type={this.state.info.b_type} details={this.state.info.details}\n            end_date={this.state.info.end_date} start_date={this.state.info.start_date}\n          />);\n        infowindow.setContent(content); \n        infowindow.open(map, marker);\n  })\n  }\n  componentDidMount(){\n    if(this.props.match.params.id){\n      let url='http://localhost:8000/share/'+this.props.match.params.id\n      fetch(url)\n      .then(results => {\n        return results.json();\n      })\n      .then(data => {\n        this.setState(\n          {\n            myLatLng:{\n            lat: data.location.coordinates[1],\n            lng: data.location.coordinates[0]\n          },\n          info: data\n          });\n        console.log(this.state.myLatLng)\n      })\n  \n    }\n\n  }\n  render (){\n  return (\n     // Important! Always set the container height explicitly\n     <div style={{ height: '100vh', width: '100%' }}>\n     <GoogleMapReact\n       bootstrapURLKeys={{ key: 'AIzaSyAtdOKKhJNvoNFVMIy20Upt7OLv1lHZJaI' }}\n       onGoogleApiLoaded={({map, maps}) => this.renderMarkers(map, maps, this.state.myLatLng)}\n       defaultCenter={this.props.center}\n       center={this.state.myLatLng}\n       yesIWantToUseGoogleMapApiInternals\n       defaultZoom={this.state.zoom}\n     >\n     </GoogleMapReact>\n   </div>\n  );\n}\n}\n\nexport default SimpleMap;\n"]},"metadata":{},"sourceType":"module"}